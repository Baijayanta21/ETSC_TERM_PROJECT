<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ETSC TERM PROJECT (CD61203, LTP : 3-0-0, CRD : 3), F.M.= 100</title>

<!-- Google Fonts -->
<link 
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Fira+Code:wght@400;500&display=swap" 
    rel="stylesheet"
>

<!-- jsPDF library -->
<script 
    src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js">
</script>


<style>
  body {
    margin: 0;
    background: #f5f7fa;
    font-family: 'Poppins', sans-serif;
    text-align: center;
    color: #333;
  }

  h2 {
    font-size: 26px;
    font-weight: 700;
    background: linear-gradient(90deg, #2b6cb0, #4a90e2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 10px;
    letter-spacing: 0.4px;
  }

  p {
    color: #444;
    font-size: 17px;
    font-weight: 500;
    margin-top: 0;
    margin-bottom: 20px;
    letter-spacing: 0.3px;
  }

  input {
    padding: 10px;
    margin: 5px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 15px;
    width: 200px;
    transition: all 0.3s ease;
  }
  input:focus {
    border-color: #2b6cb0;
    box-shadow: 0 0 5px rgba(43,108,176,0.3);
    outline: none;
  }

  button {
    padding: 10px 20px;
    background: #2b6cb0;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 500;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #4a90e2;
  }

  #output {
    display: none;
    background: white;
    padding: 20px;
    margin-top: 25px;
    border-radius: 10px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    max-width: 450px;
    margin-left: auto;
    margin-right: auto;
    text-align: left;
    animation: fadeIn 0.5s ease-in-out;
  }

  #studentName {
    text-align: center;
    font-size: 20px;
    font-weight: 600;
    letter-spacing: 0.4px;
    color: #2b6cb0;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    margin-bottom: 10px;
  }

  #studentScore {
    font-family: 'Fira Code', monospace;
    font-size: 16px;
    color: #333;
    line-height: 1.6;
    white-space: pre;
  }

  #greetingBox {
    display: none;
    background: #dbeafe;
    color: #1e40af;
    padding: 14px;
    margin-top: 15px;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }

  #pdfBtn {
    display: none;
    margin-top: 15px;
    padding: 8px 16px;
    background: #10b981;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 500;
  }

  footer {
    margin-top: 50px;
    padding: 14px 0;
    background: #f5f7fa;
    color: #4b5563;
    font-size: 15px;
    text-align: center;
    font-weight: 500;
    border-top: 1px solid #e5e7eb;
    letter-spacing: 0.4px;
    font-family: 'Poppins', sans-serif;
    text-shadow: 0 1px 2px rgba(0,0,0,0.05);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>

<body>
  <div style="padding:30px;">
    <h2>ETSC TERM PROJECT (CD61203, LTP : 3-0-0, CRD : 3), F.M.= 100</h2>

    <p>
      Please enter your <b>Roll Number</b> and <b>Passcode</b><br>
      (sent to your email and also to official <i>KGPian</i> mail ID) to view your marks.
    </p>

    <form id="resultForm" style="margin-top:20px;">
      <input type="text" id="roll" placeholder="Roll Number" required><br>
      <input type="password" id="passcode" placeholder="Passcode" required><br>
      <button type="submit">View Result</button>
    </form>

    <div id="output">
      <h3 id="studentName"></h3>
      <pre id="studentScore"></pre>
      <div id="greetingBox"></div>
      <button id="pdfBtn">Download PDF</button>
    </div>
  </div>

  <footer>
  <div>&copy; 2025 Baijayanta Bhattacharyya. All rights reserved.</div>
  <div>Contact: <a href="mailto:baijayantabhattacharyya2021@gmail.com"
  >baijayantabhattacharyya2021@gmail.com</a></div>

  <script>
    const studentData = {
      "25PH91J10"     : { passcode: "Td&m87AC", name: "Baijayanta Bhattacharyya",score: 75,grade: "A" },
"25PH91J25"     : { passcode: "qVNT8nO5", name: "Sandipan Hazra",score: 88,grade: "EX" },
"25PH91J11"     : { passcode: "9Tdlhd7g", name: "Abhinaba Pahari",score: 86,grade: "EX" },
"25PH91R05"     : { passcode: "WkIKps7W", name: "Anubhab Makhal ",score: 71,grade: "B" },
"25PH91J03"     : { passcode: "pYLbFNT2", name: "Bhaskar Mondal",score: 77,grade: "A" },
"25PH91J27"     : { passcode: "Yh%1jcVk", name: "Soumyadiksha Halder",score: 76,grade: "A" },
"25PH91J18"     : { passcode: "qm8Gs#z6", name: "Rajib Mahato",score: 65,grade: "B" },

    };

    document.getElementById("resultForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const roll = document.getElementById("roll").value.trim();
      const pass = document.getElementById("passcode").value.trim();
      const output = document.getElementById("output");
      const nameEl = document.getElementById("studentName");
      const scoreEl = document.getElementById("studentScore");
      const greetingBox = document.getElementById("greetingBox");
      const pdfBtn = document.getElementById("pdfBtn");

      scoreEl.style.textAlign = "left";
      greetingBox.style.display = "none";
      pdfBtn.style.display = "none";

      if (!studentData[roll]) {
        nameEl.textContent = "âŒ Invalid Student Roll Number";
        scoreEl.textContent = "You havenâ€™t registered in this course.";
        scoreEl.style.textAlign = "center";
        output.style.display = "block";
        return;
      }

      const student = studentData[roll];

      if (student.passcode !== pass) {
        nameEl.textContent = "âš ï¸ Wrong Password";
        scoreEl.textContent = "Enter again...";
        scoreEl.style.textAlign = "center";
        output.style.display = "block";
        return;
      }

      nameEl.textContent = "âœ… Password is correct";
      scoreEl.textContent =
`Student Name     : ${student.name}
Roll Number      : ${roll}
Marks Obtained   : ${student.score}/100
Grade Obtained   : ${student.grade}`;

      // Time-based greeting
      const now = new Date();
      const hour = now.getHours();
      let greetingText = "";
      if(hour >= 5 && hour < 12) {
        greetingText = `ðŸŒž Good Morning, ${student.name}`;
      } else if(hour >= 12 && hour < 17) {
        greetingText = `â˜€ï¸ Good Afternoon, ${student.name}`;
      } else if(hour >= 17 && hour < 21) {
        greetingText = `ðŸŒ‡ Good Evening, ${student.name}`;
      } else {
        greetingText = `ðŸŒ™ Good Night, ${student.name}`;
      }

      greetingBox.textContent = greetingText;
      greetingBox.style.display = "block";
      pdfBtn.style.display = "inline-block";
      output.style.display = "block";

      pdfBtn.onclick = function() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    // --- Heading ---
    doc.setFont("Poppins", "italic");
    doc.setFontSize(25);
    doc.text("Results", 105, 20, { align: "center" });

    // --- Horizontal line below heading ---
    doc.setLineWidth(0.5);
    doc.line(20, 25, 190, 25);

    // --- Starting Y position for student details ---
    let startY = 35;

    // Set line height factor (1.2 is slightly more spaced, default is ~1)
    doc.setLineHeightFactor(1.25);

    // --- Student & course details ---
    let text = 
        `Course Name       : ETSC TERM PROJECT
` +
        `Course Code       : CD61203
` +
        `Course Details    : LTP : 3-0-0, CRD : 3
` +
        `Faculty Details   : Baijayanta Bhattacharyya
` +
        `Student Name      : ${student.name}
` +
        `Roll Number       : ${roll}
` +
        `Marks Obtained    : ${student.score}/100
` +
        `Grade Obtained    : ${student.grade}`;

    doc.setFont("Courier", "normal");
    doc.setFontSize(15);
    doc.text(text, 20, startY);

    // --- Footer with current date and time ---
    const now = new Date();
    const dateTimeStr = now.toLocaleString();
    doc.setFont("times", "italic");
    doc.setFontSize(10);
    doc.text(`Generated on : ${dateTimeStr}`, 105, 280, { align: "center" });
    
    // Save PDF
    doc.save(`Result_${roll}.pdf`);
};
});
</script>
</body>
</html>
